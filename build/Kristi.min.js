!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.Kristi=t()}}(function(){return function t(n,e,r){function i(u,f){if(!e[u]){if(!n[u]){var s="function"==typeof require&&require;if(!f&&s)return s(u,!0);if(o)return o(u,!0);var a=new Error("Cannot find module '"+u+"'");throw a.code="MODULE_NOT_FOUND",a}var c=e[u]={exports:{}};n[u][0].call(c.exports,function(t){var e=n[u][1][t];return i(e?e:t)},c,c.exports,t,n,e,r)}return e[u].exports}for(var o="function"==typeof require&&require,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(t,n,e){var r=function(){};r.prototype={bind:function(t,n){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(n)},unbind:function(t,n){this._events=this._events||{},t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(n),1)},trigger:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var n=0;n<this._events[t].length;n++)this._events[t][n].apply(this,Array.prototype.slice.call(arguments,1))}},r.mixin=function(t){for(var n=["bind","unbind","trigger"],e=0;e<n.length;e++)t.prototype[n[e]]=r.prototype[n[e]]},"undefined"!=typeof n&&"exports"in n&&(n.exports=r)},{}],2:[function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){function n(n,r){var i=arguments.length<=2||void 0===arguments[2]?[]:arguments[2],o=r&&t[r];if(!a&&o){a=!0;var u=Promise.resolve(!0),f=v&&v.exit,d=o.enter;return"function"==typeof f&&(u=u.then(function(){return f.call(n)})),"function"==typeof d&&(u=u.then(function(){return d.apply(n,i)})),u.then(function(){var t={from:c,to:r};return c=r,v=o,a=!1,e(s.TRANSITION,t),!0})}}function e(){for(var t=arguments.length,n=Array(t),e=0;t>e;e++)n[e]=arguments[e];i.trigger.apply(i,n)}var r=this,i=new f["default"],u=!1,a=!1,c=void 0,v=void 0;this.startWith=function(t){if(u)throw new Error("Automaton already runned");return u=!0,n(r,t)},this.process=function(i){if(!u)throw new Error("Automaton is not runned");var f={state:c,event:i};e(s.PROCESSING,f);for(var a=arguments.length,v=Array(a>1?a-1:0),d=1;a>d;d++)v[d-1]=arguments[d];return n(r,o(t,c,i),v)},this.currentState=function(){return c},this.on=function(t,n){return i.bind(t,n),this},this.off=function(t,n){return i.unbind(t,n),this}}function o(t,n,e){var r=t[n];return r&&r.transitions?r.transitions[e]||null:null}Object.defineProperty(e,"__esModule",{value:!0}),e.EVENTS=void 0,e.Automaton=i,e.nextState=o;var u=t("microevent"),f=r(u),s=e.EVENTS={TRANSITION:"transition",PROCESSING:"processing"}},{microevent:1}]},{},[2])(2)});